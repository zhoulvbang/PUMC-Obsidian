#定义 #网络 
日常使用中会不会对使用那种代理比较懵，下面介绍下代理软件中的两种代理模式区别：

代理软件中的`TUN`模式和系统代理是两种不同的网络流量转发机制，它们在实现上和适用场景上各有特点。下面是它们之间的一些主要区别：

**一 工作层次**：

- **系统代理**：工作在应用层，需要在操作系统的设置中指定代理服务器的地址和端口。应用程序在发起网络请求时，会根据系统代理的配置将请求发送到代理服务器。这种方式通常需要手动配置，且不是所有的应用程序都会遵循系统代理设置。
- **TUN模式**：工作在传输层或更低层次，利用虚拟网络设备（TUN/TAP）直接捕获和转发设备的网络流量。TUN模式可以在不需要应用程序特别支持的情况下，将几乎所有出入设备的网络流量都通过代理服务器转发。这种方式更为底层和全面，不需要针对每个应用程序单独配置。

  

**二 兼容性和适用范围**：

- **系统代理**：更依赖于应用程序是否支持系统代理设置。一些应用程序可能直接忽略系统代理设置，特别是一些使用自定义协议的应用。
- **TUN模式**：几乎可以捕获所有的网络流量，不受应用程序支持与否的限制。因此，TUN模式更适合需要全局代理的场景。

  

**三 配置和使用复杂度**：

- **系统代理**：相对容易配置，大部分操作系统都提供了代理设置的选项，用户只需填入代理服务器的地址和端口即可。
- **TUN模式**：配置较为复杂，可能需要安装额外的软件或进行特殊设置才能启用。但是，一旦设置完成，它可以自动处理所有网络流量，对用户来说更加透明和方便。

**四 性能和资源消耗**：

- **系统代理**：由于是在应用层工作，对系统资源的消耗相对较小，但如果配置不当或代理服务器性能不佳，可能会对网络速度产生影响。
- **TUN模式**：由于需要捕获和处理所有的网络流量，可能会对系统性能产生一定影响，尤其是在网络流量较大的情况下。但它可以提供更为稳定和一致的代理服务。

# TUN

## TUN 模式是什么？与普通代理的区别

• 普通代理：只代理明确支持 **HTTP/SOCKS5** 的程序。  
• TUN 模式：在系统层创建一个虚拟网卡，**所有 IP 流量**（TCP/UDP/ICMP）都会被 Clash 捕获并匹配规则，实现真正的 **全局透明代理**，包括 UWP/Game/VoIP 等不走系统代理的软件。

[![TUN模式 Clash for windows 配置教程](https://www.v2rayfast.com/wp-content/uploads/2025/07/image-20230714083622961-1024x763.png)](https://www.v2rayfast.com/wp-content/uploads/2025/07/image-20230714083622961.png)

TUN 是 三层设备 ，模拟一个网络层设备，操作 第三层 数据包比如 IP 数据包，TUN 虚拟网卡实现 IP 层隧道。

Tun 模式通过新建一个 Tun 虚拟网卡接受操作系统的三层浏览流量，从而拓展 Clash 入口（inbound）转发能力，Tun 模式可以提升 Clash 处理 UDP 流量的能力，可以劫持任何三层流量，实现 DNS 劫持也是轻而易举，并且它与部分操作系统的网络栈结合也非常好，可以提升利用 iptables 等组件的能力。